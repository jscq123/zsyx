(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{419:function(e,t,o){var content=o(484);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(3).default)("0fee256e",content,!0,{sourceMap:!1})},483:function(e,t,o){"use strict";var r=o(419);o.n(r).a},484:function(e,t,o){(e.exports=o(2)(!1)).push([e.i,"html .el-form .el-input__inner{height:40px}.el-main{height:100vh}.el-input__suffix{top:-10px}.login-btn{line-height:40px;height:40px}.send-code .send-code-btn{color:#fff}.send-code{margin-top:10px}",""])},563:function(e,t,o){"use strict";o.r(t);var r={data:function(){var e=this;return{canNext:!1,rememberUser:!1,activeName:"email",emailForm:{email:""},phoneForm:{areaNum:"86",phone:""},checkForm:{code:"",pass:"",checkPass:"",passShow:"password",checkPassShow:"password"},rules:{email:[{required:!0,message:this.$i18n.t("error.unable"),trigger:"blur"},{type:"email",message:this.$i18n.t("error.rightEmail"),trigger:["blur"]}],phone:[{required:!0,message:this.$i18n.t("error.emptyPhone"),trigger:"blur"},{validator:function(e,t,o){""==t||null==t||null==t?o():/\b\d{6,16}/g.test(t)||""==t?o():o(new Error("请输入正确的电话号码"))},trigger:"blur"}],pass:[{required:!0,message:this.$i18n.t("error.emptyPass"),trigger:"blur"},{validator:function(t,o,r){""==o||null==o||null==o?r():/^[_a-zA-Z0-9]+$/.test(o)?o.length>20||o.length<8?r(new Error("密码应该大于8位小于20位")):(""!==e.checkForm.checkPass&&e.$refs.checkForm.validateField("checkPass"),r()):r(new Error("密码仅由英文字母，数字以及下划线组成"))},trigger:"blur"}],checkPass:[{validator:function(t,o,r){""===o?r(new Error("请再次输入密码")):o!==e.checkForm.pass?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}],code:[{required:!0,message:this.$i18n.t("error.emptyCode"),trigger:"blur"},{validator:function(t,o,r){/\d{6}$/.test(o)?r():r(new Error(e.$i18n.t("error.codeError")))},trigger:"blur"}]},fullscreenLoading:!0,areaOption:{en:"China",zh:"中国",locale:"CN",code:86},noSend:!1,count:"",timer:null}},created:function(){var e=localStorage.getItem("lang");localStorage.setItem("lastpage","/withdraw"),e&&(this.$i18n.locale=e)},mounted:function(){var e=this;this.axios.get("/areacode.json").then((function(t){200==t.status&&(e.areaOption=t.data)}))},filters:{},methods:{submitForm:function(e){var t=this,o=this;this.$refs[e].validate((function(r){if(!r)return console.log("error submit!!"),!1;if("checkForm"!=e)o.canNext=!0,o.noSend=!0,o.$router.push("#checkCode"),o.getCode();else{("email"==o.activeName?t.axios.post("".concat("https://api-gateway.dev.rwdg.io","/user-api/user/reset/email"),{email:o.emailForm.email,password:o.checkForm.pass,verifyCode:o.checkForm.code}):t.axios.post("".concat("https://api-gateway.dev.rwdg.io","/user-api/user/reset/mobile"),{nativeCode:o.phoneForm.areaNum,mobile:o.phoneForm.phone,password:o.checkForm.pass,verifyCode:o.checkForm.code})).then((function(e){e.data.success?(o.$message.success(o.$t("forgotpass.success")),setTimeout((function(){o.$router.push("/login")}),2e3)):o.$message.error(o.$t("systemError."+e.data.error.code))}))}}))},login:function(){},handleClick:function(e,t){console.log(e,t)},backPage:function(){this.canNext=!1},getCode:function(){var e=this;if(!this.noSend)return!1;("email"==e.activeName?this.axios.post("".concat("https://api-gateway.dev.rwdg.io","/user-api/user/sendVerifyCode/email"),{verifyCodeType:2,email:e.emailForm.email}):this.axios.post("".concat("https://api-gateway.dev.rwdg.io","/user-api/user/sendVerifyCode/mobile"),{verifyCodeType:2,nativeCode:e.phoneForm.areaNum,mobile:e.phoneForm.phone})).then((function(t){if(t){e.noSend=!1,e.timer||(e.count=60,e.show=!1,e.timer=setInterval((function(){e.count>0&&e.count<=60?e.count--:(e.noSend=!0,clearInterval(e.timer),e.timer=null)}),1e3))}}))},back:function(){this.$router.back()},close:function(){localStorage.setItem("lastpage","/minoption"),this.$router.push("/minoption")}},watch:{$route:function(){"#checkCode"==this.$route.hash?this.canNext=!0:this.canNext=!1}}},c=(o(483),o(35)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",{attrs:{direction:"vertical"}},[o("el-main",[o("i",{staticClass:"el-icon-back",on:{click:function(t){return e.back()}}}),e._v(" "),o("div",{staticClass:"title"},[e._v(e._s(e.$t("forgotpass.title")))]),e._v(" "),o("i",{staticClass:"el-icon-close header",on:{click:function(t){return e.close()}}}),e._v(" "),o("el-row",{staticClass:"account-bg",attrs:{type:"flex",justify:"center"}},[o("el-col",[e.canNext?o("div",{staticClass:"box"},[o("div",{staticClass:"login-title"},[e._v("\n            "+e._s(e.$t("forgotpass.verification"))+"\n          ")]),e._v(" "),o("div",[e._v("\n            "+e._s(e.$t("forgotpass.verifiTips"))+" \n            "),"email"==e.activeName?o("span",[e._v(e._s(e.$t("forgotpass.email"))+" "+e._s(e.emailForm.email))]):o("span",[e._v(e._s(e.$t("forgotpass.phone"))+" "+e._s(e.phoneForm.areaNum)+" "+e._s(e.phoneForm.phone))])]),e._v(" "),o("el-form",{ref:"checkForm",attrs:{rules:e.rules,model:e.checkForm}},[o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{attrs:{maxlength:"6",placeholder:e.$t("forgotpass.codeInput")},model:{value:e.checkForm.code,callback:function(t){e.$set(e.checkForm,"code",t)},expression:"checkForm.code"}},[o("span",{staticClass:"send-code",attrs:{slot:"suffix"},slot:"suffix"},[e.noSend?o("span",{staticClass:"send-code-btn",on:{click:e.getCode}},[e._v(e._s(e.$t("forgotpass.sendCode")))]):o("span",[e._v("\n                    "+e._s(e.$t("forgotpass.countTips"))+"\n                    "),o("span",[e._v(e._s(e.count))]),e._v("s\n                  ")])])])],1),e._v(" "),o("el-form-item",{attrs:{prop:"pass"}},[o("el-input",{attrs:{type:e.checkForm.passShow,placeholder:e.$t("forgotpass.passwordInput")},model:{value:e.checkForm.pass,callback:function(t){e.$set(e.checkForm,"pass",t)},expression:"checkForm.pass"}},[o("i",{staticClass:"el-input__icon el-icon-view",class:{"el-icon-view-open":"text"==e.checkForm.passShow},attrs:{slot:"suffix"},on:{click:function(t){"password"==e.checkForm.passShow?e.checkForm.passShow="text":e.checkForm.passShow="password"}},slot:"suffix"})])],1),e._v(" "),o("el-form-item",{attrs:{prop:"checkPass"}},[o("el-input",{attrs:{type:e.checkForm.checkPassShow,placeholder:e.$t("forgotpass.checkpassword")},model:{value:e.checkForm.checkPass,callback:function(t){e.$set(e.checkForm,"checkPass",t)},expression:"checkForm.checkPass"}},[o("i",{staticClass:"el-input__icon el-icon-view",class:{"el-icon-view-open":"text"==e.checkForm.passShow},attrs:{slot:"suffix"},on:{click:function(t){"password"==e.checkForm.checkPassShow?e.checkForm.checkPassShow="text":e.checkForm.checkPassShow="password"}},slot:"suffix"})])],1),e._v(" "),o("el-form-item",{staticClass:"form-button-box"},[o("span",{staticClass:"btn btn-orange login-btn",on:{click:function(t){return e.submitForm("checkForm")}}},[o("i",{staticClass:"figure figure-lt"}),e._v(" "),o("i",{staticClass:"figure figure-rt"}),e._v(" "),o("i",{staticClass:"figure figure-lb"}),e._v(" "),o("i",{staticClass:"figure figure-rb"}),e._v("\n                "+e._s(e.$t("forgotpass.confirm"))+"\n              ")])])],1)],1):o("div",{staticClass:"box"},[o("el-form",{ref:"emailForm",attrs:{rules:e.rules,model:e.emailForm}},[o("el-form-item",{attrs:{prop:"email"}},[o("el-input",{attrs:{placeholder:e.$t("forgotpass.emailInput")},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email",t)},expression:"emailForm.email"}})],1),e._v(" "),o("el-form-item",{staticClass:"form-button-box"},[o("span",{staticClass:"btn btn-orange login-btn",on:{click:function(t){return e.submitForm("emailForm")}}},[o("i",{staticClass:"figure figure-lt"}),e._v(" "),o("i",{staticClass:"figure figure-rt"}),e._v(" "),o("i",{staticClass:"figure figure-lb"}),e._v(" "),o("i",{staticClass:"figure figure-rb"}),e._v("\n                    "+e._s(e.$t("forgotpass.next"))+"\n                  ")])])],1)],1)])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);