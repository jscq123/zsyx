(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{434:function(t,e,c){var content=c(537);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,c(3).default)("541e1da1",content,!0,{sourceMap:!1})},536:function(t,e,c){"use strict";var l=c(434);c.n(l).a},537:function(t,e,c){(t.exports=c(2)(!1)).push([t.i,".info-input{line-height:40px;height:40px}.el-main{overflow:hidden!important;height:100vh}",""])},553:function(t,e,c){"use strict";c.r(e);c(60);var l,r=c(8),n=c(61),o=c.n(n),v={middleware:"authenticated",asyncData:(l=Object(r.a)(regeneratorRuntime.mark((function t(e){var c,l,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.store,e.req,e.params,e.redirect,t.next=3,o.a.post("".concat("https://api-gateway.dev.rwdg.io","/user-api/user-info/account/detail"),{userId:"[user_id]"},{headers:{"Content-Type":"application/json",token:c.state.auth}});case 3:return l=t.sent,data=l.data,t.abrupt("return",{auth:c.state.auth,avatar_tx:"/tx/tx".concat(data.data.avatar,".jpg"),user_name:data.data.email||data.data.mobile,kycState:data.data.kycState,email:data.data.email||"未填写",mobile:data.data.mobile||"未填写",showSelect:!1,nowSelect:null});case 6:case"end":return t.stop()}}),t)}))),function(t){return l.apply(this,arguments)}),methods:{close:function(){localStorage.setItem("lastPage","/minoption"),this.$store.commit("setLastpage","/minoption"),this.$router.push("/minoption")},selectAvatar:function(t){this.nowSelect=t},changeUserAvatar:function(){var t=this;t.axios.post("".concat("https://api-gateway.dev.rwdg.io","/user-api/user-info/account/setAvatar"),{userId:"[user_id]",avatar:t.nowSelect},{headers:{"Content-Type":"application/json",token:t.auth}}).then((function(e){200==e.status?(console.log(e.data),e.data.success?(t.$message.success("头像修改成功"),t.avatar_tx="/tx/tx".concat(t.nowSelect,".jpg"),localStorage.setItem("avatar",t.nowSelect),t.showSelect=!1):t.$message.error(t.$t("systemError."+e.data.error.code))):t.$message.error(t.$t("error.errorNet"))}))}}},f=(c(536),c(35)),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("el-container",{attrs:{direction:"vertical"}},[c("el-main",{staticClass:"no-page"},[c("div",{staticClass:"title"},[t._v("个人资料")]),t._v(" "),c("i",{staticClass:"el-icon-back header",on:{click:function(e){return t.close()}}}),t._v(" "),c("el-row",{staticClass:"account-bg",attrs:{type:"flex",justify:"center"}},[c("el-col",{staticClass:"box t-c"},[c("span",{staticClass:"personal-logo",on:{click:function(e){t.showSelect=!0}}},[c("img",{attrs:{src:t.avatar_tx}})]),t._v(" "),c("div",{staticClass:"pt-10"},[t._v(t._s(t.user_name))]),t._v(" "),c("div",{staticClass:"pt-20"},[c("el-row",{staticClass:"info-input"},[c("el-col",{staticClass:"c-gray t-l pl-10",attrs:{span:6}},[t._v("昵称")]),t._v(" "),c("el-col",{staticClass:"c-fff t-r pr-10",attrs:{span:18}},[t._v("取个昵称吧")])],1),t._v(" "),c("el-row",{staticClass:"info-input"},[c("el-col",{staticClass:"c-gray t-l pl-10",attrs:{span:6}},[t._v("实名认证")]),t._v(" "),c("el-col",{staticClass:"c-fff t-r pr-10",attrs:{span:18}},[c("span",{class:{"c-orange":2!=t.kycState}},[t._v(t._s(t.$t("kyc.state-"+t.kycState)))])])],1),t._v(" "),c("el-row",{staticClass:"info-input"},[c("el-col",{staticClass:"c-gray t-l pl-10",attrs:{span:6}},[t._v("性别")]),t._v(" "),c("el-col",{staticClass:"c-fff t-r pr-10",attrs:{span:18}},[t._v("男")])],1),t._v(" "),c("el-row",{staticClass:"info-input"},[c("el-col",{staticClass:"c-gray t-l pl-10",attrs:{span:6}},[t._v("出生年月")]),t._v(" "),c("el-col",{staticClass:"c-fff t-r pr-10 ff-sbrm",attrs:{span:18}},[t._v("1990.03")])],1),t._v(" "),c("el-row",{staticClass:"info-input"},[c("el-col",{staticClass:"c-gray t-l pl-10",attrs:{span:6}},[t._v("地区")]),t._v(" "),c("el-col",{staticClass:"c-fff t-r pr-10",attrs:{span:18}},[t._v("中国台湾")])],1),t._v(" "),c("el-row",{staticClass:"info-input"},[c("el-col",{staticClass:"c-gray t-l pl-10",attrs:{span:6}},[t._v("邮箱")]),t._v(" "),c("el-col",{staticClass:"c-fff t-r pr-10 ff-sbrm",attrs:{span:18}},[t._v(t._s(t.email))])],1),t._v(" "),c("el-row",{staticClass:"info-input"},[c("el-col",{staticClass:"c-gray t-l pl-10",attrs:{span:6}},[t._v("手机")]),t._v(" "),c("el-col",{staticClass:"c-fff t-r pr-10 ff-sbrm",attrs:{span:18}},[t._v(t._s(t.mobile))])],1)],1)])],1),t._v(" "),c("div",{directives:[{name:"show",rawName:"v-show",value:t.showSelect,expression:"showSelect"}],staticClass:"select-avatar-wrap"},[c("div",{staticClass:"hiddenSelect",on:{click:function(e){t.showSelect=!1}}}),t._v(" "),c("div",{staticClass:"select-avatar-box"},[c("div",{staticClass:"select-title"},[t._v("请选择头像")]),t._v(" "),c("el-row",{staticClass:"select-content"},t._l(123,(function(e){return c("el-col",{key:e,attrs:{span:6}},[c("span",{staticClass:"select-list",class:{hasSelect:t.nowSelect==e},on:{click:function(c){return t.selectAvatar(e)}}},[c("img",{attrs:{src:"/tx/tx"+e+".jpg"}}),t._v(" "),c("i",{staticClass:"el-icon-s-flag"})])])})),1),t._v(" "),c("div",{staticClass:"submitBt"},[c("el-link",{staticClass:"btn-orange btn",on:{click:function(e){return t.changeUserAvatar()}}},[c("i",{staticClass:"figure figure-lt"}),t._v(" "),c("i",{staticClass:"figure figure-rt"}),t._v(" "),c("i",{staticClass:"figure figure-lb"}),t._v(" "),c("i",{staticClass:"figure figure-rb"}),t._v(" "),c("span",{staticClass:"c-orange"},[t._v("确认选择")])])],1)],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);