(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{435:function(e,t,r){var content=r(539);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(3).default)("4b5369a7",content,!0,{sourceMap:!1})},538:function(e,t,r){"use strict";var o=r(435);r.n(o).a},539:function(e,t,r){(e.exports=r(2)(!1)).push([e.i,".btn,html .el-form .el-input__inner{height:40px}.btn{line-height:40px}",""])},551:function(e,t,r){"use strict";r.r(t);var o={data:function(){var e=this;return{activeName:"email",areaOption:{en:"China",zh:"中国",locale:"CN",code:86},count:"",timer:null,noSend:!0,emailForm:{email:"",pass:"",checkpass:"",code:"",agreement:!1},rules:{email:[{required:!0,message:this.$i18n.t("error.emptyEmail"),trigger:"blur"},{type:"email",message:this.$i18n.t("error.rightEmail"),trigger:["blur"]}],pass:[{required:!0,message:this.$i18n.t("error.emptyPass"),trigger:"blur"},{validator:function(t,r,o){""==r||null==r||null==r?o():/^[_a-zA-Z0-9]+$/.test(r)?r.length>20||r.length<8?o(new Error(e.$i18n.t("error.maxPass"))):o():o(new Error(e.$i18n.t("error.errorPass")))},trigger:"blur"}],checkpass:[{required:!0,message:this.$i18n.t("error.checkEmptyPass"),trigger:"blur"},{validator:function(t,r,o){var n="";n="email"==e.activeName?e.emailForm.pass:e.phoneForm.pass,""===r?o(new Error(e.$i18n.t("error.checkEmptyPass"))):r!==n?o(new Error(e.$i18n.t("error.checkErroePass"))):o()},trigger:"blur"}],code:[{required:!0,message:this.$i18n.t("error.emptyCode"),trigger:"blur"},{validator:function(t,r,o){/\d{6}$/.test(r)?o():o(new Error(e.$i18n.t("error.codeError")))},trigger:"blur"}]}}},mounted:function(){var e=this;localStorage.setItem("lastPage","/register"),this.axios.get("/areacode.json").then((function(t){200==t.status&&(e.areaOption=t.data)}))},methods:{getCode:function(){var e=this,t="";if("email"==e.activeName){var r="".concat("https://api-gateway.dev.rwdg.io","/user-api/user/sendVerifyCode/email");t=e.axios.post(r,{verifyCodeType:1,email:e.emailForm.email})}t.then((function(t){if(t.data.success){e.noSend=!1,e.timer||(e.count=60,e.timer=setInterval((function(){e.count>0&&e.count<=60?e.count--:(e.noSend=!0,clearInterval(e.timer),e.timer=null)}),1e3))}else e.$message.error(e.$t("systemError."+t.data.error.code))}))},submitForm:function(e){var t=this;t.$refs[e].validate((function(r){if("emailForm"==e&&r){if(!t.$refs[e].model.agreement)return t.$message.error(t.$t("error.checkAgreement")),!1;t.register()}}))},register:function(){var e=this,t="";if("email"==e.activeName){var r="".concat("https://api-gateway.dev.rwdg.io","/user-api/user/register/email");t=e.axios.post(r,{email:e.emailForm.email,password:e.emailForm.pass,verifyCode:e.emailForm.code})}t.then((function(t){if(200==t.status){if(!t.data.success)return e.$message.error("systemError."+t.data.error.message),!1;e.$message.success(e.$t("error.regSucess")),setTimeout((function(){e.$router.push("/login")}),3e3)}}))},back:function(){this.$router.back()}}},n=(r(538),r(35)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{attrs:{direction:"vertical"}},[r("el-main",{staticClass:"no-page"},[r("div",{staticClass:"title"},[e._v(e._s(e.$t("register.title")))]),e._v(" "),r("i",{staticClass:"el-icon-back header",on:{click:function(t){return e.back()}}}),e._v(" "),r("el-row",{staticClass:"account-bg",attrs:{type:"flex",justify:"center"}},[r("el-col",[r("div",{staticClass:"box"},[r("el-form",{ref:"emailForm",attrs:{rules:e.rules,model:e.emailForm}},[r("el-form-item",{attrs:{prop:"email"}},[r("el-input",{attrs:{placeholder:e.$t("register.emailInput")},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email",t)},expression:"emailForm.email"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{attrs:{maxlength:"6",placeholder:e.$t("forgotpass.codeInput")},model:{value:e.emailForm.code,callback:function(t){e.$set(e.emailForm,"code",t)},expression:"emailForm.code"}},[r("span",{staticClass:"send-code",attrs:{slot:"suffix"},slot:"suffix"},[e.noSend?r("span",{staticClass:"send-code-btn",staticStyle:{color:"#fff"},on:{click:e.getCode}},[e._v(e._s(e.$t("forgotpass.sendCode")))]):r("span",[e._v("\n                    "+e._s(e.$t("forgotpass.countTips"))+"\n                    "),r("span",[e._v(e._s(e.count))]),e._v("s\n                  ")])])])],1),e._v(" "),r("el-form-item",{attrs:{prop:"pass"}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("register.passwordInput")},model:{value:e.emailForm.pass,callback:function(t){e.$set(e.emailForm,"pass",t)},expression:"emailForm.pass"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"checkpass"}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("register.checkPasswordInput")},model:{value:e.emailForm.checkpass,callback:function(t){e.$set(e.emailForm,"checkpass",t)},expression:"emailForm.checkpass"}})],1),e._v(" "),r("el-form-item",{staticClass:"agreement"},[r("el-checkbox",{model:{value:e.emailForm.agreement,callback:function(t){e.$set(e.emailForm,"agreement",t)},expression:"emailForm.agreement"}},[r("span",[e._v("\n                  "+e._s(e.$t("register.agreement"))+"\n                  "),r("nuxt-link",{attrs:{to:"/agreement"}},[e._v(e._s(e.$t("register.agreement-describe")))])],1)])],1),e._v(" "),r("el-form-item",{staticClass:"form-button-box"},[r("span",{staticClass:"btn btn-orange register-btn",on:{click:function(t){return e.submitForm("emailForm")}}},[r("i",{staticClass:"figure figure-lt"}),e._v(" "),r("i",{staticClass:"figure figure-rt"}),e._v(" "),r("i",{staticClass:"figure figure-lb"}),e._v(" "),r("i",{staticClass:"figure figure-rb"}),e._v("\n                "+e._s(e.$t("register.registerNow"))+"\n              ")])])],1)],1),e._v(" "),r("div",{staticClass:"pt-20 t-c"},[r("span",{staticClass:"no-account"},[e._v("\n            "+e._s(e.$t("register.hasAccount"))+"\n            "),r("nuxt-link",{attrs:{type:"primary",to:"/login"}},[e._v(e._s(e.$t("register.login")))])],1)])])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);